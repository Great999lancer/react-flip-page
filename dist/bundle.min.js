!function(t){function e(a){if(i[a])return i[a].exports;var s=i[a]={exports:{},id:a,loaded:!1};return t[a].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}var s=i(1),n=i(2),o=a(n);(0,s.render)(React.createElement(o.default,{height:480,width:320,style:{margin:"50px auto",boxShadow:"0 0 20px rgba(0,0,0,0.5)"}},React.createElement("article",null,React.createElement("img",{src:"http://unsplash.it/320?image=30",style:{height:"320px",width:"320px"}}),React.createElement("p",{style:{padding:10}},"The image above is a square of 320x320. It's useful to see the perspective effect when swicthing pages.")),React.createElement("article",{style:{padding:10}},React.createElement("p",null,"A web demo wouldn't be complete without the famous Lorem Ipsum!"),React.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris vel vehicula neque, quis bibendum orci. Integer vel facilisis magna, quis rhoncus justo. Sed efficitur ipsum eget tristique fermentum. In ut orci non nulla ullamcorper condimentum gravida at odio. Nulla rutrum nunc eu arcu maximus mollis. Nam ut felis eleifend, mattis metus non, sodales libero. Maecenas vel aliquet libero. Aenean sit amet ipsum pellentesque, convallis diam a, convallis lectus."),React.createElement("p",null,"In id mauris at mauris sollicitudin convallis. Aliquam tempus eleifend metus. Nulla vel porta enim. In at lorem vel nunc rutrum vulputate non vel est. Vivamus vehicula pharetra elit sit amet fermentum. Fusce lacinia dignissim magna eu pharetra. Vivamus non euismod est. Praesent egestas scelerisque arcu nec tristique. Vivamus aliquam eleifend turpis, eget pulvinar metus fermentum ut."),React.createElement("p",null,"Sed nec arcu mi. Vivamus et rutrum enim. Sed sem ex, suscipit quis maximus ut, facilisis a leo. Donec sit amet rutrum velit. Praesent volutpat a quam nec ultricies. In venenatis sodales ullamcorper. Nam ac dignissim augue. Nam aliquet nibh velit, nec fringilla nulla accumsan nec. Fusce et ultricies nibh, et ullamcorper est. Ut id mi laoreet ante auctor dignissim id et leo. Praesent tincidunt eros ut facilisis varius. Ut ornare ante a congue bibendum. Nullam ac metus in sapien dignissim egestas. Fusce in tellus eget purus ornare tempor eget eget augue. Nam et imperdiet augue. In vel urna porta, finibus nunc quis, tempor tortor."))),document.querySelector("#app"))},function(t,e){t.exports=ReactDOM},function(t,e,i){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":o(e))&&"function"!=typeof e?t:e}function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":o(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),l=i(3),u=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return Object.assign.apply(Object,[{}].concat(e))},c=function(t){function e(t){a(this,e);var i=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.state={page:0,startY:-1,diff:0,timestamp:0,angle:0,rotate:0,direction:"",lastDirection:"",bottomStyle:{},topStyle:{}},i.startMoving=i.startMoving.bind(i),i.moveGesture=i.moveGesture.bind(i),i.stopMoving=i.stopMoving.bind(i),i.reset=i.reset.bind(i),i}return n(e,t),r(e,[{key:"isLastPage",value:function(){return this.state.page+1===l.Children.count(this.props.children)}},{key:"isFirstPage",value:function(){return 0===this.state.page}},{key:"getHeight",value:function(){return this.props.height+"px"}},{key:"getHalfHeight",value:function(){return this.props.height/2+"px"}},{key:"getWidth",value:function(){return this.props.width+"px"}},{key:"startMoving",value:function(t){t.preventDefault();var e=t.pageY||t.touches[0].pageY;this.setState({startY:e})}},{key:"moveGesture",value:function(t){t.preventDefault();var e=t.pageY||t.touches[0].pageY;if(this.state.startY!==-1){var i=e-this.state.startY,a=i/250*180,s=!1;"up"===this.state.direction?s=this.isLastPage():"down"===this.state.direction&&(s=this.isFirstPage());var n=Math.min(Math.abs(a),s?this.props.maxAngle:180);if(""===this.state.direction&&Math.abs(i)>this.props.treshold){var o="";i<0?o="up":i>0&&(o="down"),this.setState({direction:o})}var r=this.state.lastDirection;this.state.diff>i?r="up":this.state.diff<i&&(r="down"),this.setState({angle:a,rotate:n,timestamp:Date.now(),diff:i,lastDirection:r}),i<0&&"up"===this.state.direction?this.setState({angle:a,bottomStyle:{transform:"perspective("+this.props.perspective+") rotateX("+n+"deg)"}}):i>0&&"down"===this.state.direction&&this.setState({angle:a,topStyle:{transform:"perspective("+this.props.perspective+") rotateX(-"+n+"deg)",zIndex:2}})}}},{key:"stopMoving",value:function(t){var e=this,i=Date.now()-this.state.timestamp,a=!this.isLastPage()&&(this.state.angle<=-90||i<=20&&"up"===this.state.direction&&"up"===this.state.lastDirection),s=!this.isFirstPage()&&(this.state.angle>=90||i<=20&&"down"===this.state.direction&&"down"===this.state.lastDirection);this.reset(),this.setState({bottomStyle:{transform:a?"perspective("+this.props.perspective+") rotateX(180deg)":""},topStyle:{transform:s?"perspective("+this.props.perspective+") rotateX(-180deg)":"",zIndex:s?2:"auto"}},function(){a?setTimeout(function(){e.setState({bottomStyle:{},page:e.state.page+1})},e.props.animationDuration):s&&setTimeout(function(){e.setState({topStyle:{},page:e.state.page-1})},e.props.animationDuration)})}},{key:"reset",value:function(){this.setState({startY:-1,angle:0,rotate:0,direction:"",lastDirection:"",bottomStyle:{transition:"transform "+this.props.animationDuration/1e3+"s ease-in-out"},topStyle:{transition:"transform "+this.props.animationDuration/1e3+"s ease-in-out"}})}},{key:"renderPage",value:function(t,e){var i=this.getHeight(),a=this.getHalfHeight(),s=this.getWidth(),n="0 -100px 100px -100px rgba(0,0,0,0.25) inset",o="0 100px 100px -100px rgba(0,0,0,0.25) inset",r=(0,l.cloneElement)(t,{style:Object.assign({},t.props.style,{height:i})}),c={container:{display:this.state.page===e?"block":"none",height:i,overflow:"hidden",position:"relative",width:s},part:{height:a,left:0,position:"absolute",width:s},visiblePart:{transformStyle:"preserve-3d"},top:{top:0,transformOrigin:"bottom center"},bottom:{bottom:0,transformOrigin:"top center"},face:{backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden",height:a,left:0,position:"absolute",top:0,transformStyle:"preserve-3d",width:s},back:{transform:"rotateX(180deg)"},before:{top:0},after:{bottom:0},cut:{background:this.props.pageBackground,height:a,overflow:"hidden",position:"relative",width:s},pull:{marginTop:"-"+a},gradient:{position:"absolute",left:0,right:0,bottom:0,top:0,transition:"box-shadow "+this.props.animationDuration/1e3+"s ease-in-out"},gradientBottomFace:{boxShadow:"up"===this.state.direction?o:""},gradientTopFace:{boxShadow:"down"===this.state.direction?n:""},gradientBottomBack:{boxShadow:"up"===this.state.direction?n:""},gradientTopBack:{boxShadow:"down"===this.state.direction?o:""},mask:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"#000",opacity:""!==this.state.direction?Math.max(this.props.maskOpacity-Math.abs(this.state.rotate)/90*this.props.maskOpacity,0):0}},p=this.isFirstPage()?this.props.firstComponent:this.props.children[this.state.page-1],m=this.isLastPage()?this.props.lastComponent:this.props.children[this.state.page+1],d=c.container,h=c.part,g=c.visiblePart,f=c.top,v=c.bottom,y=c.face,b=c.back,w=c.before,S=c.after,x=c.cut,E=c.pull,R=c.gradient,k=c.gradientBottomBack,P=c.gradientTopBack,M=c.gradientBottomFace,T=c.gradientTopFace,D=c.mask;return React.createElement("div",{key:e,onMouseDown:this.startMoving,onTouchStart:this.startMoving,onMouseMove:this.moveGesture,onTouchMove:this.moveGesture,onMouseUp:this.stopMoving,onTouchEnd:this.stopMoving,onMouseLeave:this.reset,style:d},React.createElement("div",{style:u(h,w,x)},p,React.createElement("div",{style:D})),React.createElement("div",{style:u(h,S,x)},React.createElement("div",{style:E},m),React.createElement("div",{style:D})),React.createElement("div",{style:u(h,g,f,this.state.topStyle)},React.createElement("div",{style:y},React.createElement("div",{style:x},r),React.createElement("div",{style:u(R,T)})),React.createElement("div",{style:u(y,b)},React.createElement("div",{style:x},React.createElement("div",{style:E},p)),React.createElement("div",{style:u(R,P)}))),React.createElement("div",{style:u(h,g,v,this.state.bottomStyle)},React.createElement("div",{style:y},React.createElement("div",{style:x},React.createElement("div",{style:E},r)),React.createElement("div",{style:u(R,M)})),React.createElement("div",{style:u(y,b)},React.createElement("div",{style:u(h,S,x)},m),React.createElement("div",{style:u(R,k)}))))}},{key:"render",value:function(){var t=this,e=u(this.props.style,{height:this.getHeight(),position:"relative",width:this.getWidth()});return React.createElement("div",{style:e},l.Children.map(this.props.children,function(e,i){return t.renderPage(e,i)}))}}]),e}(l.Component);c.defaultProps={animationDuration:200,treshold:10,maxAngle:45,maskOpacity:.4,perspective:"130em",pageBackground:"#fff",firstComponent:null,lastComponent:null,style:{}},c.propTypes={animationDuration:l.PropTypes.number,treshold:l.PropTypes.number,maxAngle:l.PropTypes.number,maskOpacity:l.PropTypes.number,perspective:l.PropTypes.string,pageBackground:l.PropTypes.string,firstComponent:l.PropTypes.element,lastComponent:l.PropTypes.element,style:l.PropTypes.object},e.default=c},function(t,e){t.exports=React}]);